{
  "_beagleComponent_": "custom:repeater",
  "id": "note-list",
  "dataSource": "@{filterNotesByLabel(data.notes, data.currentLabel)}",
  "key": "id",
  "template": {
    "_beagleComponent_": "custom:note",
    "noteId": "@{item.id}",
    "title": "@{item.title}",
    "text": "@{item.text}",
    "labels": "@{item.labels}",
    "onSelect": [
      {
        "_beagleAction_": "beagle:setContext",
        "contextId": "global",
        "path": "selectedNote",
        "value": "@{item.id}"
      },
      {
        "_beagleAction_": "beagle:pushView",
        "route": {
          "url": "/details"
        }
      }
    ],
    "onRemove": [
      {
        "_beagleAction_": "beagle:setContext",
        "contextId": "data",
        "path": "notes",
        "value": "@{remove(data.notes, item)}"
      },
      {
        "_beagleAction_": "beagle:sendRequest",
        "url": "https://keep.beagle.io/note/@{item.id}",
        "method": "DELETE",
        "onSuccess": [
          {
            "_beagleAction_": "custom:feedback",
            "type": "success",
            "text": "Note removed successfully!"
          }
        ],
        "onError": [
          {
            "_beagleAction_": "custom:feedback",
            "type": "error",
            "text": "Connection error. Couldn't remove the label."
          },
          {
            "_beagleAction_": "beagle:setContext",
            "contextId": "data",
            "path": "notes",
            "value": "@{insert(data.notes, item, index)}"
          }
        ]
      }
    ],
    "style": {
      "margin": {
        "all": {
          "value": 10,
          "type": "REAL"
        }
      }
    }
  },
  "children": [
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 0,
            "title": "Dentist",
            "text": "Adipisicing ipsum fugiat tempor sint sunt minim labore pariatur. Velit anim officia laboris aliqua i...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 0,
                "name": "Personal",
                "color": "#00ff00"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 0
        }
      ],
      "key": 0,
      "id": "_beagle_4"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 1,
            "title": "Gym exercises for monday",
            "text": "Enim cillum excepteur pariatur do sint officia esse consectetur sunt Lorem. Fugiat duis reprehenderi...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 0,
                "name": "Personal",
                "color": "#00ff00"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 1
        }
      ],
      "key": 1,
      "id": "_beagle_5"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 2,
            "title": "Send research results",
            "text": "Ullamco reprehenderit officia aliqua culpa sunt. Commodo deserunt veniam anim nostrud ut in labore c...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 1,
                "name": "Work",
                "color": "#0000ff"
              },
              {
                "id": 2,
                "name": "Urgent",
                "color": "#ff0000"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 2
        }
      ],
      "key": 2,
      "id": "_beagle_6"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 3,
            "title": "Market list for september",
            "text": "Labore exercitation nulla ipsum do velit proident pariatur nostrud sunt exercitation. Pariatur excep...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 3,
                "name": "Supermarket",
                "color": "#ffff00"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 3
        }
      ],
      "key": 3,
      "id": "_beagle_7"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 4,
            "title": "Check the new coffee brand",
            "text": "Incididunt officia cupidatat ut deserunt qui occaecat ut dolor nostrud. Irure cupidatat est veniam e...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 3,
                "name": "Supermarket",
                "color": "#ffff00"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 4
        }
      ],
      "key": 4,
      "id": "_beagle_8"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 5,
            "title": "Ask for a raise",
            "text": "Do culpa fugiat labore ut exercitation dolor magna ipsum sit. Do sit incididunt officia occaecat min...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 1,
                "name": "Work",
                "color": "#0000ff"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 5
        }
      ],
      "key": 5,
      "id": "_beagle_9"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 6,
            "title": "Ask George to read his e-mails",
            "text": "Eiusmod commodo eu magna officia fugiat enim sint minim. Sint quis veniam commodo culpa sit ea eu. P...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 1,
                "name": "Work",
                "color": "#0000ff"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 6
        }
      ],
      "key": 6,
      "id": "_beagle_10"
    },
    {
      "_beagleComponent_": "custom:note",
      "noteId": "@{item.id}",
      "title": "@{item.title}",
      "text": "@{item.text}",
      "labels": "@{item.labels}",
      "onSelect": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "global",
          "path": "selectedNote",
          "value": "@{item.id}"
        },
        {
          "_beagleAction_": "beagle:pushView",
          "route": {
            "url": "/details"
          }
        }
      ],
      "onRemove": [
        {
          "_beagleAction_": "beagle:setContext",
          "contextId": "data",
          "path": "notes",
          "value": "@{remove(data.notes, item)}"
        },
        {
          "_beagleAction_": "beagle:sendRequest",
          "url": "https://keep.beagle.io/note/@{item.id}",
          "method": "DELETE",
          "onSuccess": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "success",
              "text": "Note removed successfully!"
            }
          ],
          "onError": [
            {
              "_beagleAction_": "custom:feedback",
              "type": "error",
              "text": "Connection error. Couldn't remove the label."
            },
            {
              "_beagleAction_": "beagle:setContext",
              "contextId": "data",
              "path": "notes",
              "value": "@{insert(data.notes, item, index)}"
            }
          ]
        }
      ],
      "style": {
        "margin": {
          "all": {
            "value": 10,
            "type": "REAL"
          }
        }
      },
      "_implicitContexts_": [
        {
          "id": "item",
          "value": {
            "id": 7,
            "title": "Parents meeting at school",
            "text": "Aliqua dolore nostrud occaecat non laborum do labore consequat consequat consequat deserunt anim rep...",
            "createdAt": 1600453354284,
            "labels": [
              {
                "id": 0,
                "name": "Personal",
                "color": "#00ff00"
              }
            ]
          }
        },
        {
          "id": "index",
          "value": 7
        }
      ],
      "key": 7,
      "id": "_beagle_11"
    }
  ]
}
